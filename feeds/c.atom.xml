<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Sane Coding Blog - C++</title><link href="https://pagghiu.github.io/" rel="alternate"></link><link href="https://pagghiu.github.io/feeds/c.atom.xml" rel="self"></link><id>https://pagghiu.github.io/</id><updated>2025-12-23T00:00:00+01:00</updated><subtitle>Sane Coding Blog</subtitle><entry><title>2Ô∏è‚É£ Years of Sane C++ Libraries</title><link href="https://pagghiu.github.io/site/blog/2025-12-23-SaneCpp2Year.html" rel="alternate"></link><published>2025-12-23T00:00:00+01:00</published><updated>2025-12-23T00:00:00+01:00</updated><author><name>Stefano Cristiano</name></author><id>tag:pagghiu.github.io,2025-12-23:/site/blog/2025-12-23-SaneCpp2Year.html</id><summary type="html">&lt;p&gt;A look back at the second year of the Sane C++ Libraries project, highlighting a massive dependency cleanup, the "No Allocations" guarantee, single-file libraries, and much more.&lt;/p&gt;</summary><content type="html">&lt;p&gt;Another year has passed, and it's time to celebrate the second anniversary of Sane C++ Libraries
&lt;a href="https://github.com/pagghiu/SaneCppLibraries"&gt;https://github.com/pagghiu/SaneCppLibraries&lt;/a&gt;!&lt;br&gt;
The journey continues toward the goal of providing simple, modern, and dependency-free C++ platform abstraction libraries for macOS, Windows, and Linux.&lt;/p&gt;
&lt;p&gt;The core principles remain the same:&lt;/p&gt;
&lt;p&gt;‚úÖ Fast compile times&lt;br&gt;
‚úÖ Bloat free&lt;br&gt;
‚úÖ Simple and readable code&lt;br&gt;
‚úÖ Easy to integrate&lt;br&gt;
‚õîÔ∏è No C++ Standard Library / Exceptions / RTTI&lt;br&gt;
‚õîÔ∏è No third party build dependencies (prefer OS API)  &lt;/p&gt;
&lt;p&gt;This second year was defined by a relentless focus on architectural purity, developer experience, and delivering on the project's core promises in a tangible way.&lt;/p&gt;
&lt;h2 id="the-great-cleanup"&gt;The Great Cleanup&lt;/h2&gt;
&lt;p class="chapter"&gt;The "No Allocations" Guarantee&lt;/p&gt;

&lt;p&gt;The single most important achievement of this year was a massive dependency cleanup that culminated in making them single-file libraries with clean dependencies.&lt;/p&gt;
&lt;p&gt;Isn't this final clean internal dependency graph super cool? üòé&lt;/p&gt;
&lt;p&gt;&lt;a href="https://pagghiu.github.io/site/blog/2025-12-23-SaneCpp2Year-Dependencies.svg" target="_blank"&gt;
&lt;img src="https://pagghiu.github.io/site/blog/2025-12-23-SaneCpp2Year-Dependencies.svg"&gt;
&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;A powerful guarantee for most of the libraries has been gained too:&lt;br&gt;
&lt;strong&gt;No dynamic memory allocations.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;As the official &lt;code&gt;README.md&lt;/code&gt; now states:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;All libraries do not dynamically allocate memory (excluding &lt;code&gt;Memory&lt;/code&gt; and &lt;code&gt;Containers&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;All libraries are designed to work inside user-provided memory buffers.&lt;/li&gt;
&lt;li&gt;All libraries return error codes when running out of such memory buffers.&lt;/li&gt;
&lt;li&gt;Third-party container classes, including &lt;code&gt;std::&lt;/code&gt; ones, are supported (see &lt;code&gt;InteropSTL&lt;/code&gt; for an example).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Memory&lt;/code&gt; and &lt;code&gt;Containers&lt;/code&gt; are fully optional and just provided for convenience.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;This was a multi-month effort that involved:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Splitting the &lt;code&gt;Memory&lt;/code&gt; library (&lt;a href="https://pagghiu.github.io/site/blog/2025-06-30-SaneCppLibrariesUpdate.html"&gt;June&lt;/a&gt;):&lt;/strong&gt;&lt;br&gt;
All components responsible for dynamic allocation (&lt;code&gt;Segment&lt;/code&gt;, &lt;code&gt;Buffer&lt;/code&gt;, &lt;code&gt;VirtualMemory&lt;/code&gt;) were moved from &lt;code&gt;Foundation&lt;/code&gt; into their own dedicated library.&lt;br&gt;
This created a clear architectural boundary.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Aggressive Refactoring (&lt;a href="https://pagghiu.github.io/site/blog/2025-07-31-SaneCppLibrariesUpdate.html"&gt;July&lt;/a&gt;-&lt;a href="https://pagghiu.github.io/site/blog/2025-10-31-SaneCppLibrariesUpdate.html"&gt;October&lt;/a&gt;):&lt;/strong&gt;&lt;br&gt;
Guided by a new &lt;a href="https://pagghiu.github.io/SaneCppLibraries/page_dependencies.html"&gt;automated dependency tracking system&lt;/a&gt;, libraries like &lt;code&gt;File&lt;/code&gt;, &lt;code&gt;Socket&lt;/code&gt;, &lt;code&gt;Process&lt;/code&gt;, &lt;code&gt;FileSystem&lt;/code&gt;, and &lt;code&gt;FileSystemWatcher&lt;/code&gt; were refactored to remove all dependencies on &lt;code&gt;Memory&lt;/code&gt; or &lt;code&gt;Strings&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;"Bring Your Own Containers" (&lt;a href="https://pagghiu.github.io/site/blog/2025-10-31-SaneCppLibrariesUpdate.html"&gt;October&lt;/a&gt;):&lt;/strong&gt;&lt;br&gt;
To prove this wasn't about locking users in, the &lt;code&gt;InteropSTL&lt;/code&gt; example was created to show how easily &lt;code&gt;std::string&lt;/code&gt; and &lt;code&gt;std::vector&lt;/code&gt; can be used with the libraries, thanks to the lightweight &lt;code&gt;IGrowableBuffer&lt;/code&gt; interface.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Now, if you use a library that doesn't depend on &lt;code&gt;Memory&lt;/code&gt; (directly or indirectly), you have a compile-time guarantee that it performs no heap allocations.  &lt;/p&gt;
&lt;h2 id="the-year-in-review"&gt;The Year in Review&lt;/h2&gt;
&lt;p class="chapter"&gt;A Look Back at The Updates &lt;/p&gt;

&lt;p&gt;Beyond the architectural overhaul, the year was packed with new features and improvements.&lt;/p&gt;
&lt;h3 id="async-evolution"&gt;üü® Async Evolution&lt;/h3&gt;
&lt;p class="chapter"&gt;Async all the things&lt;/p&gt;

&lt;p&gt;The async ecosystem has been refined consistently throughout the year:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;AsyncStreams&lt;/code&gt; (&lt;a href="https://pagghiu.github.io/site/blog/2024-12-31-SaneCppLibrariesUpdate.html"&gt;December&lt;/a&gt;):&lt;/strong&gt;&lt;br&gt;
Gained transform streams, demonstrated with an async ZLib compression stream.&lt;br&gt;
It was later promoted to &lt;strong&gt;MVP&lt;/strong&gt; status (August).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;Async&lt;/code&gt; Core (&lt;a href="https://pagghiu.github.io/site/blog/2025-01-31-SaneCppLibrariesUpdate.html"&gt;January&lt;/a&gt;):&lt;/strong&gt;&lt;br&gt;
The core event loop was refined with a large number of bug fixes and improvements, timers were improved, and the &lt;code&gt;SC::Function&lt;/code&gt; object was optimized to save memory.  Significant effort has been spent trying to unify cancellation behaviors of the wildly different OS APIs.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;AsyncSequence&lt;/code&gt; (&lt;a href="https://pagghiu.github.io/site/blog/2025-05-31-SaneCppLibrariesUpdate.html"&gt;May&lt;/a&gt;):&lt;/strong&gt;&lt;br&gt;
A major quality-of-life improvement, allowing for easy chaining of async operations without complex callback nesting.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;AsyncFileSystemOperation&lt;/code&gt; (&lt;a href="https://pagghiu.github.io/site/blog/2025-06-30-SaneCppLibrariesUpdate.html"&gt;June&lt;/a&gt;):&lt;/strong&gt;&lt;br&gt;
A powerful new feature unifying a huge range of async file system operations (&lt;code&gt;copy&lt;/code&gt;, &lt;code&gt;rename&lt;/code&gt;, &lt;code&gt;remove&lt;/code&gt;, etc.) under a single cross-platform API.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;UDP Support (&lt;a href="https://pagghiu.github.io/site/blog/2025-06-30-SaneCppLibrariesUpdate.html"&gt;June&lt;/a&gt;):&lt;/strong&gt;&lt;br&gt;
Added &lt;code&gt;sendTo&lt;/code&gt; and &lt;code&gt;receiveFrom&lt;/code&gt; for unconnected UDP sockets.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Http Async Evolution (&lt;a href="https://pagghiu.github.io/site/blog/2025-11-30-SaneCppLibrariesUpdate.html"&gt;November&lt;/a&gt;):&lt;/strong&gt;&lt;br&gt;
Work on overhauling the &lt;code&gt;Http&lt;/code&gt; library drove improvements in &lt;code&gt;AsyncStreams&lt;/code&gt;, making it more flexible to handle externally managed buffers.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href="https://pagghiu.github.io/site/blog/SCAsyncSequence.png" target="_blank"&gt;
&lt;img src="https://pagghiu.github.io/site/blog/SCAsyncSequence.png"&gt;
&lt;/a&gt;&lt;/p&gt;
&lt;h3 id="memory-management-revolution-february-march"&gt;üß† Memory Management Revolution (&lt;a href="https://pagghiu.github.io/site/blog/2025-02-28-SaneCppLibrariesUpdate.html"&gt;February&lt;/a&gt;-&lt;a href="https://pagghiu.github.io/site/blog/2025-03-31-SaneCppLibrariesUpdate.html"&gt;March&lt;/a&gt;)&lt;/h3&gt;
&lt;p class="chapter"&gt;Do not allocate as if your life depends on it!&lt;/p&gt;

&lt;p&gt;The foundation for the "No Allocations" guarantee was laid early in the year.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;Containers&lt;/code&gt; Rewrite (&lt;a href="https://pagghiu.github.io/site/blog/2025-02-28-SaneCppLibrariesUpdate.html"&gt;February&lt;/a&gt;):&lt;/strong&gt; The &lt;code&gt;Containers&lt;/code&gt; library was rewritten, and the crucial &lt;code&gt;Buffer&lt;/code&gt; and &lt;code&gt;SmallBuffer&lt;/code&gt; types were born in &lt;code&gt;Foundation&lt;/code&gt;, and later on isolated inside the &lt;code&gt;Memory&lt;/code&gt; library.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Advanced Memory Management (&lt;a href="https://pagghiu.github.io/site/blog/2025-03-31-SaneCppLibrariesUpdate.html"&gt;March&lt;/a&gt;):&lt;/strong&gt;&lt;br&gt;
A number of useful features were added:&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Custom Allocators:&lt;/strong&gt;&lt;br&gt;
A global, scoped, non-template-based allocator system for strategies like arena allocation.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Relative Pointers:&lt;/strong&gt;&lt;br&gt;
To enable fast, memcpy-able serialization of complex data structures (if you can accept a little bit of un-avoidable UB...).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Virtual Memory:&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;VirtualAllocator&lt;/code&gt; allows reserving large chunks of virtual address space to avoid reallocations.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href="https://pagghiu.github.io/site/blog/CustomVirtualAllocator.png" target="_blank"&gt;
&lt;img src="https://pagghiu.github.io/site/blog/CustomVirtualAllocator.png"&gt;
&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://pagghiu.github.io/site/blog/StructDump.jpg" target="_blank"&gt;
&lt;img src="https://pagghiu.github.io/site/blog/StructDump.jpg"&gt;
&lt;/a&gt;&lt;/p&gt;
&lt;h3 id="tooling-and-developer-experience"&gt;üõ†Ô∏è Tooling and Developer Experience&lt;/h3&gt;
&lt;p&gt;A major theme this year was making the libraries easier to use and develop.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Single-File Libraries (&lt;a href="https://pagghiu.github.io/site/blog/2025-08-31-SaneCppLibrariesUpdate.html"&gt;August&lt;/a&gt;):&lt;/strong&gt;&lt;br&gt;
A huge usability win! All libraries can now be amalgamated into single header files.&lt;br&gt;
A &lt;a href="https://pagghiu.github.io/SaneCppLibraries/page_single_file_libs.html"&gt;browser-based tool&lt;/a&gt; makes it incredibly easy to generate them.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;GDB Pretty Printer (&lt;a href="https://pagghiu.github.io/site/blog/2025-09-30-SaneCppLibrariesUpdate.html"&gt;September&lt;/a&gt;):&lt;/strong&gt;&lt;br&gt;
With &lt;code&gt;LLDB&lt;/code&gt; and &lt;code&gt;MSVC&lt;/code&gt; visualizers already present, the addition of a &lt;code&gt;GDB&lt;/code&gt; pretty printer completed the set, providing a first-class debugging experience for the project's custom containers.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Automated Dependency Checking (&lt;a href="https://pagghiu.github.io/site/blog/2025-09-30-SaneCppLibrariesUpdate.html"&gt;September&lt;/a&gt;):&lt;/strong&gt;&lt;br&gt;
The CI now automatically verifies that new code doesn't introduce unwanted dependencies, enforcing architectural hygiene.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Self-Hosting Bootstrap (&lt;a href="https://pagghiu.github.io/site/blog/2025-10-31-SaneCppLibrariesUpdate.html"&gt;October&lt;/a&gt;):&lt;/strong&gt;&lt;br&gt;
The build tool system (&lt;code&gt;SC::Tools&lt;/code&gt;) threw away its dependency on &lt;code&gt;make&lt;/code&gt;/&lt;code&gt;nmake&lt;/code&gt; and now bootstraps itself with a minimal, dependency-free C++ program (which was later ported to C for even faster startup!).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href="https://pagghiu.github.io/SaneCppLibraries/single_file_libs.html" target="_blank"&gt;
&lt;img src="https://pagghiu.github.io/site/blog/SCAmalgamationGenerator.jpg"&gt;
&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="community-content-growth"&gt;Community, Content &amp;amp; Growth&lt;/h2&gt;
&lt;p&gt;The project is still a solo development effort for the most part, but this year saw a few contributions!&lt;br&gt;
A special thank you to &lt;strong&gt;&lt;a href="http://coz.is"&gt;Francesco "cozis" Cozzuto&lt;/a&gt;&lt;/strong&gt; for his useful contributions and bug reports.&lt;/p&gt;
&lt;p&gt;Growth on GitHub has been slow and steady.&lt;br&gt;
While there's no exponential explosion in stars, the project continues to find its audience, making me happy üòÉ.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://star-history.com/#Pagghiu/SaneCppLibraries&amp;Date" target="_blank"&gt;
  &lt;img src="https://api.star-history.com/svg?repos=Pagghiu/SaneCppLibraries&amp;type=Date" alt="Star History Chart"&gt;
&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;In terms of content, my focus this year shifted heavily from producing YouTube videos to implementing the architectural changes described above. I may come back to making videos at some point, once I'm more satisfied with the status of the libraries, but the priority for now remains on the code.&lt;/p&gt;
&lt;h2 id="looking-ahead-to-year-three"&gt;Looking Ahead to Year Three&lt;/h2&gt;
&lt;p&gt;With the architecture in a much cleaner state, the plan for the third year is to build on this solid foundation.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Mature Existing Libraries:&lt;/strong&gt; The main objective is to bring more libraries from &lt;code&gt;Draft&lt;/code&gt; and &lt;code&gt;MVP&lt;/code&gt; states to &lt;code&gt;Usable&lt;/code&gt;.&lt;br&gt;
The top priority is the &lt;code&gt;Http&lt;/code&gt; library, whose overhaul has already begun.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;No New Libraries (Probably!):&lt;/strong&gt; I will try &lt;em&gt;not&lt;/em&gt; to add any new libraries. The focus will be on hardening and perfecting the existing ones.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Examples and Documentation:&lt;/strong&gt; With the APIs stabilizing, improving documentation and adding more real-world examples will be more important than ever.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It's been a marathon of a year focused on deep, foundational work.&lt;br&gt;
Thank you to everyone who has followed along, starred the repository, or used the libraries. &lt;/p&gt;
&lt;p&gt;The journey is far from over!&lt;/p&gt;
&lt;p&gt;See you soon! üéäüëãüèº&lt;/p&gt;</content><category term="C++"></category><category term="c++"></category><category term="sane"></category><category term="libraries"></category><category term="update"></category><category term="anniversary"></category></entry></feed>